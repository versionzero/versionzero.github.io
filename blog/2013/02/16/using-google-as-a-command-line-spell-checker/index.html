
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Using Google as a Command-line Spell-checker - Pre-Released Ideas</title>
  <meta name="author" content="Ben Burnett">

  
  <meta name="description" content="At the best of times, I can maintain a mediocre level of control of
the English language. Unfortunately, this has not translates in to an
ability to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://versionzero.github.io/blog/2013/02/16/using-google-as-a-command-line-spell-checker">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Pre-Released Ideas" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-57348140-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Pre-Released Ideas</a></h1>
  
    <h2>An experiment in open-source, live and feedback-based technical writing.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="versionzero.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
  <article class="hentry" role="article">
    
  <header>
    
      <h1 class="entry-title">Using Google as a Command-line Spell-checker</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-02-16T19:08:00-08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>7:08 pm</span></time>
        




ยง <a href="#disqus_thread"
     data-disqus-identifier="http://versionzero.github.io">Comments</a>

      </p>
    
  </header>


<div class="entry-content"><p>At the best of times, I can maintain a mediocre level of control of
the English language.  Unfortunately, this has not translates in to an
ability to spell.</p>

<p>For most applications, this is fine, there&rsquo;s a reasonable spellchecker
built in to just about everything.  It&rsquo;s a problem for me when I&rsquo;m at
the terminal all day though.  It&rsquo;s true, there are plenty of command
line checkers, but it&rsquo;s rare that any can handle the level of
misspelling I feed them.  To date, the most capable system of parsing
my spelling is Google.  But switching to a browser and feeding in a
word at a time is a tad cumbersome, to say the least.</p>

<!--more-->


<p>This was the original impetus for the code.  It&rsquo;s a glorified cURL
call, but it does the trick.  It also became quite clear that for a
little extra work, we could detect things like the Urban Dictionary
(Dirionary) results as part of of the page.</p>

<p>For simplicity, we assume the following phrase will remain stable:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Did you mean to search for:[ ]*([^ ]*).*</span></code></pre></td></tr></table></div></figure>


<p>This can make our code much simpler and easier to follow. It also
seem, that in the long run, unless many people adopt this method of
word-recommendation search, Google&rsquo;s only changes will be for
aesthetic reasons, and considering their overal minimalistic approach
to data display, we should be able to actually quite easily update
this in the future, even it if is a major word order change.</p>

<p>Where the above line shows up if Google is <em>guessing</em> (aka &ldquo;recall
that that word is actually spelt.&rdquo;), the following is likely when the
&ldquo;optimal&rdquo; match is found, according to its rule-set:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Showing results for[ ]*([^ ]*)</span></code></pre></td></tr></table></div></figure>


<p>Lastly, for now, if we don see anything from Google proper, then we
may be looking for a piece of slang, so we will use the result of our
trusty old friend, Urban Dictionary:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Urban Dictionary:[ ]*([^ ]*)</span></code></pre></td></tr></table></div></figure>


<p>The link to the full code can be found bellow, but the critical code
is here:</p>

<div class="highlight"><pre><code class="language-perl" data-lang="perl"><span class="lineno"> 1</span> <span class="k">my</span> <span class="nv">@patterns</span> <span class="o">=</span> <span class="p">(</span>
<span class="lineno"> 2</span>    <span class="s">&quot;Did you mean to search for:[ ]*([^ ]*).*&quot;</span><span class="p">,</span>
<span class="lineno"> 3</span>    <span class="s">&quot;Showing results for[ ]*([^ ]*)&quot;</span><span class="p">,</span>
<span class="lineno"> 4</span>    <span class="s">&quot;Urban Dictionary:[ ]*([^ ]*)&quot;</span><span class="p">);</span>
<span class="lineno"> 5</span> <span class="nb">open</span> <span class="p">(</span><span class="n">OUTPUT</span><span class="p">,</span> <span class="s">&quot;| tee $cache_filename&quot;</span><span class="p">);</span>
<span class="lineno"> 6</span> <span class="k">while</span> <span class="p">(</span><span class="sr">&lt;INPUT&gt;</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 7</span>   <span class="nb">chomp</span><span class="p">;</span> <span class="sr">s/&lt;[^&gt;]*&gt;/ /g</span><span class="p">;</span>
<span class="lineno"> 8</span>   
<span class="lineno"> 9</span>   <span class="c1"># Check each of the patterns we defined above:</span>
<span class="lineno">10</span>   <span class="k">for</span> <span class="k">my</span> <span class="nv">$pattern</span> <span class="p">(</span><span class="nv">@patterns</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">11</span>     <span class="k">if</span> <span class="p">(</span><span class="sr">/$pattern/</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">12</span>       <span class="nv">$suggestion</span> <span class="o">=</span> <span class="s">&quot;$1&quot;</span><span class="p">;</span>
<span class="lineno">13</span>       <span class="k">last</span><span class="p">;</span>
<span class="lineno">14</span>     <span class="p">}</span>
<span class="lineno">15</span>   <span class="p">}</span>
<span class="lineno">16</span> <span class="p">}</span>
<span class="lineno">17</span> <span class="k">print</span> <span class="n">OUTPUT</span> <span class="s">&quot;$suggestion&quot;</span><span class="p">;</span></code></pre></div>


<p>Notice we strip all HTML from the document, so it is easier to parse.
It is odd that web-scrapping can come to this, where it just makes
more sense to strip all that is <em>structured</em> to work with simpler
structure.  Is this what people call irony?</p>

<p>The full code can be seen
<a href="https://raw.github.com/versionzero/dotfiles/master/local/bin/google-suggest">here</a>.</p>
</div>


    <footer>
      <p class="meta">
        
  

<span class="byline author vcard">Posted by <span class="fn">Ben Burnett</span></span>

        




<time class='entry-date' datetime='2013-02-16T19:08:00-08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>7:08 pm</span></time>
        

<span class="categories">
  
    <a class='category' href='/blog/categories/code/'>code</a>, <a class='category' href='/blog/categories/perl/'>perl</a>
  
</span>


      </p>
      
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://versionzero.github.io/blog/2013/02/16/using-google-as-a-command-line-spell-checker/" data-via="versionnaught" data-counturl="http://versionzero.github.io/blog/2013/02/16/using-google-as-a-command-line-spell-checker/" >Tweet</a>
  
  
  
</div>

      
      <p class="meta">
        
        <a class="basic-alignment left" href="/blog/2013/02/16/a-note-about-me/" title="Previous Post: A note about me">&laquo; A note about me</a>
        
        
        <a class="basic-alignment right" href="/blog/2013/02/17/finding-balance-between-local-and-remote-terminal-sessions/" title="Next Post: Finding balance between local and remote terminal sessions">Finding balance between local and remote terminal sessions &raquo;</a>
        
      </p>
    </footer>
  </article>
  
  <section>
    <h2>Change History</h2>
    
  </section>
  
  
  <section>
    <h2>Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>
  
</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/01/12/new-gps-and-obd2-car-toy/">Revisiting the Car Computer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/12/revision-control-is-not-a-backup-tool/">Revision Control Is Not Just a Backup Tool</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/11/karabiner-private-xml/">My Karabiner private.xml</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/03/streaming-from-iphone-to-iphone/">Streaming From iPhone to iPhone</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/12/27/ethical-computing/">Ethical Computing</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/versionzero">@versionzero</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'versionzero',
            count: 6,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Ben Burnett -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'prereleasedideas';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://versionzero.github.io/blog/2013/02/16/using-google-as-a-command-line-spell-checker/';
        var disqus_url = 'http://versionzero.github.io/blog/2013/02/16/using-google-as-a-command-line-spell-checker/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
